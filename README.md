# dms_by_fn

## 🎯 系統核心功能

### 1. **高精度臉部偵測**
- 使用Face-api.js進行即時人臉偵測
- **不使用傳統EAR值**，改用更精確的眼睛開合度分析
- 自適應閾值調整，對不同眼型的使用者更友善
- 包含68個臉部關鍵點偵測

### 2. **智慧行為分析**
- **眼睛狀態監控**：垂直距離比例計算，動態閾值
- **頭部姿態分析**：偏轉角度和俯仰角度檢測
- **疲勞檢測**：結合表情分析和眼部狀態
- **注意力評估**：綜合多項指標的評分系統

### 3. **即時監控介面**
- 即時視頻顯示與覆蓋標註
- 動態狀態更新（整體評分、注意力指數、疲勞指數）
- 視覺化進度條顯示眼睛開合度
- 即時警告系統

### 4. **評分機制**
- **短期評分**：基於最近30個數據點
- **長期趨勢**：完整監控期間的行為分析
- **多維度評估**：注意力、疲勞、分心事件統計
- **動態警告**：根據行為變化即時提醒

### 5. **專業報表系統**
- 駕駛行為總結與統計
- 個人化改善建議
- 趨勢圖表顯示
- JSON格式數據匯出
- 事件詳細記錄

### 6. **系統配置**
- 可調整疲勞警告閾值
- 眨眼檢測靈敏度設定
- 頭部姿態警告模式
- 報表更新頻率控制

## 🔧 使用方法

1. **輸入IP攝影機位址**：在頁面頂部輸入您的IP Camera位址
2. **開始監控**：點擊"開始監控"按鈕
3. **即時觀察**：系統會即時分析並顯示駕駛狀態
4. **查看報表**：點擊"生成報表"查看詳細分析
5. **匯出數據**：可匯出完整監控數據

## 💡 技術特色

- **無需EAR值**：使用更精確的眼睛幾何分析
- **自適應算法**：根據臉部尺寸動態調整閾值
- **多重驗證**：結合表情、眼部、姿態多項指標
- **即時處理**：100ms間隔的高頻檢測
- **數據持久**：自動保存監控歷史

## 🎨 系統優勢

1. **對小眼睛友善**：不依賴EAR值，避免誤判
2. **高精度檢測**：多維度分析提高準確性
3. **智慧建議**：根據個人行為模式提供改善方案
4. **專業報表**：符合企業級需求的詳細分析
5. **操作簡便**：直觀的介面設計，易於使用
